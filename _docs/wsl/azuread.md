---
title: Using Azure AD from Bash
category: Windows Subsystem for Linux
order: 2
---
# Using Azure AD from Bash

Navigate to [https://login.microsoftonline.com/[tenant-id]/oauth2/authorize?client_id=[client-id]&response_type=code](https://login.microsoftonline.com/[tenant-id]/oauth2/authorize?client_id=[client-id]&response_type=code)

> Replacing [tenant-id] and [client-id]

Get code from response like:
https://localhost:44341/signin-oidc?code=AQABAAIAAAA9kTklhVy7SJTGAzR-p1BcQn__M38KdNCdhagAfbE0rikab8J-N_W9KSXQJWORm9ggiQVDauGkuHlULHC2glmfs27RTJeyhfXvfnDbB9yY43KwaGdBpcx-PCfaP7V9SfrNA_RfTwy14RetENLD98uQUxEIv6cb7MvjHzHsHN4vmd3Ie3h43Kgu6ghDW5jxSDS9J27nMl2xN31vj529EUeyr0EeBG9uSd4v4F1HZ3sszUsF00sICFPjuVTAA1yDFyVS5xfg2YgONa1MT2jHfLZqI2LxTlkzc6cFzqks496n4WomQleSxoR6Qt7TiulpVfV4_2Dm5UfMDd7lMGNmfn_qTq1EcSvWXnnP9_U5r_WK6PSIn_ztru46cDTk0qORjT7i4fg8OGj1BG2bkR-jhm3Oy_mDaIowLoCqmobMEbA6LMMLjy3gkkBPkqIF7VlIjzVadazcqmL2FbwP5O0N7AuA9TFDRF6WoqnpgHonALGpiFIyESyFj4yil5TfmstrB2Y8GPhqOInLyA-QtmGMgHxv2_wUXilX6hjP2LkBPvFmyau3DRijTHD0PPQQDpfMmsOU9ZQKNc2x2erGBLnm49Z0h9kZDIbqyTR1c7es_ziOosOeGpmjGtXV58fWjiHTvbPtNnhSJnZrlC6ChMoxi_1b-5Ea4Ax49-43xSKoTw2VlrRxApy65-EbK8pgM-XpKKUgAA&session_state=56151aae-8194-4775-8300-627144292866

Use the code in the following request

``` bash
curl "https://login.microsoftonline.com/[tenant-id]/oauth2/token" \
  -F "redirect_uri=https://localhost:44341/signin-oidc" \
  -F "grant_type=client_credentials" \
  -F "resource=https://management.azure.com/" \
  -F "client_id=[client-id]" \
  -F "client_secret=CRe01LSBR8pku0CVVQ0bd9KztSf3cVn/sKfnGbT7lv4=" \
  -F "code=AQABAAIAAAA9kTklhVy7SJTGAzR-p1BcQn__M38KdNCdhagAfbE0rikab8J-N_W9KSXQJWORm9ggiQVDauGkuHlULHC2glmfs27RTJeyhfXvfnDbB9yY43KwaGdBpcx-PCfaP7V9SfrNA_RfTwy14RetENLD98uQUxEIv6cb7MvjHzHsHN4vmd3Ie3h43Kgu6ghDW5jxSDS9J27nMl2xN31vj529EUeyr0EeBG9uSd4v4F1HZ3sszUsF00sICFPjuVTAA1yDFyVS5xfg2YgONa1MT2jHfLZqI2LxTlkzc6cFzqks496n4WomQleSxoR6Qt7TiulpVfV4_2Dm5UfMDd7lMGNmfn_qTq1EcSvWXnnP9_U5r_WK6PSIn_ztru46cDTk0qORjT7i4fg8OGj1BG2bkR-jhm3Oy_mDaIowLoCqmobMEbA6LMMLjy3gkkBPkqIF7VlIjzVadazcqmL2FbwP5O0N7AuA9TFDRF6WoqnpgHonALGpiFIyESyFj4yil5TfmstrB2Y8GPhqOInLyA-QtmGMgHxv2_wUXilX6hjP2LkBPvFmyau3DRijTHD0PPQQDpfMmsOU9ZQKNc2x2erGBLnm49Z0h9kZDIbqyTR1c7es_ziOosOeGpmjGtXV58fWjiHTvbPtNnhSJnZrlC6ChMoxi_1b-5Ea4Ax49-43xSKoTw2VlrRxApy65-EbK8pgM-XpKKUgAA"
  ```

Call endpoint with token from above
``` bash
curl --header "Accept: application/json" --header "Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkhIQnlLVS0wRHFBcU1aaDZaRlBkMlZXYU90ZyIsImtpZCI6IkhIQnlLVS0wRHFBcU1aaDZaRlBkMlZXYU90ZyJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuYXp1cmUuY29tLyIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0LzFlMWE1ZTNhLWYwZWEtNDVjOS05ZDgwLWQ4OGU0ZDhlZDM3OC8iLCJpYXQiOjE1MDQ3NjQ2ODEsIm5iZiI6MTUwNDc2NDY4MSwiZXhwIjoxNTA0NzY4NTgxLCJhaW8iOiJZMkZnWUREVjBSQlNLMkdVUHM2UmJuai9tc3c2QUE9PSIsImFwcGlkIjoiMzEwYmEyOTQtOTc5OS00YTE3LTg1NWMtNGEwMDBkNWU3MGRjIiwiYXBwaWRhY3IiOiIxIiwiaWRwIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvMWUxYTVlM2EtZjBlYS00NWM5LTlkODAtZDg4ZTRkOGVkMzc4LyIsIm9pZCI6ImNmMGQ4NmEyLWNhYTEtNGI0ZC1hN2VlLTNkMDNkY2I0ZTYxZSIsInN1YiI6ImNmMGQ4NmEyLWNhYTEtNGI0ZC1hN2VlLTNkMDNkY2I0ZTYxZSIsInRpZCI6IjFlMWE1ZTNhLWYwZWEtNDVjOS05ZDgwLWQ4OGU0ZDhlZDM3OCIsInV0aSI6ImtyMXdYMncwU2tDdGRkb01nYmNGQUEiLCJ2ZXIiOiIxLjAifQ.xmgMR2_51ljCy5R4MqlE4qUnMmGKcbL5HwMJkG8NQYG8NUWwh2JZHgUlCqYMrTKd6AFWuucFPdDd2cz2IQb4BoqWtUZBKF5YsgwO12Y4184rfHcSaM0se7kL2X-vRLDDtVMbPC0Ke1y0KasyjWd7EJgsCf2VDKGkdIU0WdLZW8mWo8R5F_bIXKSKTRk2Rv9eFii36Efv-wqVAjIaFw872vlHzA9qXWRf5eWDQx40uRtGzjxLeUO7W8sCNoGxJvyhqsJflrlQuIX_GSbMXi4YEFLEnnt9WE7SRECaCHPa-n0SAGIs4y1_7FCOC1H4aLHWtrE78PDY4jQmzSn-qbl5gg" "https://localhost:44341/api/Values" --insecure -v
```